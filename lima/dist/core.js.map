{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 905a12c36a4ac971c85d","webpack:///./core/config/Config.js","webpack:///./core/data/DataStore.js","webpack:///./core/state/State.js","webpack:///./core/time/IdleManager.js","webpack:///../~/d3-collection/index.js","webpack:///external {\"commonjs\":\"mobx\",\"commonjs2\":\"mobx\",\"amd\":\"mobx\",\"root\":\"mobx\"}","webpack:///./core/index.js","webpack:///./core/data/config.json","webpack:///../~/d3-request/build/d3-request.js","webpack:///external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}","webpack:///../~/d3-collection/src/entries.js","webpack:///../~/d3-collection/src/keys.js","webpack:///../~/d3-collection/src/nest.js","webpack:///../~/d3-collection/src/set.js","webpack:///../~/d3-collection/src/values.js","webpack:///../~/d3-dispatch/index.js","webpack:///../~/d3-dispatch/src/dispatch.js","webpack:///../~/d3-dsv/index.js","webpack:///../~/d3-dsv/src/csv.js","webpack:///../~/d3-dsv/src/tsv.js","webpack:///../~/d3-queue/index.js","webpack:///../~/d3-queue/src/array.js","webpack:///../~/d3-queue/src/queue.js","webpack:///./core/time/MainLoop.js","webpack:///../~/d3-collection/src/map.js","webpack:///../~/d3-dsv/src/dsv.js"],"names":["configInstance","undefined","pathToConfig","parseConfigData","configData","resolve","forEach","d","config","set","key","value","ready","Promise","reject","err","failed","entry","get","map","dataStore","Dataset","postProcess","datasets","loadedDatasets","allDataIds","isLoading","q","resolveQ","console","info","push","id","defer","url","awaitAll","results","failedDataset","i","result","parser","response","parseItem","e","call","loadAllDataSets","log","dataSet","x","state","initialState","Object","keys","extend","initialValue","extension","o","hasOwnProperty","idleManager","IdleManager","sleepers","Map","hook","elapsed","check","sleeper","values","isSleeping","time","timeout","sleepFn","wakeupFn","msTimeout","hash","JSON","stringify","has","delete","Lima","mainLoop","init","configReady","dataReady","l","uiState","initLima","window","lima","StateClass","ConfigClass","DataStoreClass","MainLoopClass","IdleManagerClass","MainLoop","loopFunctions","isLooping","startTime","lastTime","start","Date","getTime","requestAnimationFrame","loop","loopFuncs","fn"],"mappings":"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L;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,yBAAyB,wEAAwE;AACjG;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8CAA8C,cAAc;;AAE5D,CAAC;;;;;;;;ACvND,gD;;;;;;;;ACAA;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,aAAa,kCAAkC,EAAE,EAAE;AACjG,wDAAwD,8BAA8B,EAAE;AACxF;;AAEA;AACA,6BAA6B,iDAAiD,EAAE;AAChF,0BAA0B,2CAA2C,EAAE;AACvE,8BAA8B,uDAAuD,EAAE;AACvF,sBAAsB,cAAc,aAAa,EAAE;AACnD,+BAA+B,mCAAmC,aAAa,EAAE;AACjF,iCAAiC,oBAAoB,aAAa,EAAE;AACpE,yBAAyB,YAAY,aAAa;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACxE+B;;AAE/B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0DAA0D,gBAAgB,EAAE;;AAE5E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJ4B;;;;;;;;;ACA5B,YAAY;;AAEZ;AACA,8CAA8C,IAAI,OAAO;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA,iBAAiB;AACjB;AACA;AACA,GAAG;AACH;AACA,kFAAkF,OAAO;AACzF;AACA,+CAA+C,OAAO;AACtD,GAAG;AACH;AACA;AACA,mDAAmD,OAAO;AAC1D;AACA;;AAEA;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,OAAO;AACzC;AACA;AACA;AACA;AACA;AACA,mCAAmC,4BAA4B;AAC/D;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;ACnF6B;AAC4B;AACA;;;;;;;;;;;;;;ACFzD;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;ACPA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACPyB;;;;;;;;;;ACAzB;;;;;;;;;;;ACAc;;AAEd;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,2CAA2C,+CAA+C;AAC1F;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS,UAAU,EAAE;AACrB;AACA,0DAA0D;AAC1D,iCAAiC;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA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ACpC;AACA,GAAG,gBAAgB;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ;AACA,6BAA6B;AAC7B,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,4BAA4B,YAAY,yCAAyC,EAAE;AACnF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"mobx\"), require(\"lodash\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"lima-core\", [\"mobx\", \"lodash\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lima-core\"] = factory(require(\"mobx\"), require(\"lodash\"));\n\telse\n\t\troot[\"lima-core\"] = factory(root[\"mobx\"], root[\"_\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 211);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 905a12c36a4ac971c85d","import {tsv} from 'd3-request';\n\nimport {observable} from 'mobx';\n\nimport defaultConfigData from '../data/config.json';\n\nlet configInstance = undefined;\n\n/**\n * Config class\n * Loads and handles config-files.\n * @namespace config\n */\nexport default class {\n\t@observable config = observable.map();\n\t@observable ready = false;\n\t@observable failed = false;\n\n\tconstructor(){\n\t}\n\n\t/**\n\t * Use this method to access the config singleton internally.\n\t * @returns {Config} config singleton\n\t * @memberof internal.Config\n\t */\n\tstatic get(){\n\t\tif(typeof configInstance != 'undefined'){\n\t\t\treturn configInstance;\n\t\t} else {\n\t\t\tconfigInstance = new this();\n\t\t\treturn configInstance;\n\t\t}\n\t}\n\n\n\t/**\n\t * Loads a tsv-config file.\n\t * @param {string} [pathToConfig=defaultConfigFile] path to config file\n\t * @returns {Promise} to be resolved when config has been loaded\n\t * @memberof config\n\t */\n\tinit(pathToConfig = undefined){\n\t\tlet parseConfigData = (configData, resolve) => {\n\t\t\tconfigData.forEach((d) => {\n\t\t\t\tthis.config.set(d.key, d.value);\n\t\t\t});\n\n\t\t\tthis.ready = true;\n\n\t\t\tresolve(this.config);\n\t\t}\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(pathToConfig){\n\t\t\t\ttsv(pathToConfig, (err, configData) => {\n\t\t\t\t\tif(err){\n\t\t\t\t\t\tthis.failed = true;\n\t\t\t\t\t\treject();\n\t\t\t\t\t}\n\n\t\t\t\t\tparseConfigData(configData, resolve);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tparseConfigData(defaultConfigData, resolve);\n\t\t\t}\n\t\t});\n\t}\n\n  /**\n   * Returns an entry in the config or undefined.\n   * @param {string} entry which config-entry is required\n   * @returns {*} result in config or undefined\n   * @namespace config\n   * @memberof lima\n   */\n  get(entry){\n    if(this && this.ready){\n      return this.config.get(entry);\n    } else {\n      return undefined;\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./core/config/Config.js","import {queue} from 'd3-queue';\nimport {request} from 'd3-request';\nimport {defaults, identity, find} from 'lodash';\nimport {observable} from 'mobx';\n\nlet dataStore = undefined;\n\n/**\n * Datasets describe files containing data, how to load and parse them.\n * @name Dataset\n * @typedef {Object} Dataset\n * @property {string} url where to find the file\n * @property {string} id unique id of the datasets\n * @property {function} parser which function to parse the file with\n * @property {function=} parseItem which function to parse each entry in the file with\n * @memberof internal.dataStore\n */\nlet Dataset = {};\n\n/**\n * Function to call on completing load to process ALL datasets\n * @callback postProcess\n * @param {Array.Dataset} datasets an Array of {@link dataStore.Dataset} objects to be loaded\n * @returns\n * @memberof internal.dataStore\n */\nlet postProcess = (datasets) => {};\n\n\n/**\n * Handles data loading and access.\n * \n * @name dataStore\n * @namespace dataStore\n * @memberof internal\n */\nexport default class {\n  /**\n   * Is set to true if data loading/post-processing has finished\n   */\n  @observable ready = false;\n\n  loadedDatasets = [];\n  allDataIds = [];\n  isLoading = false;\n\n  constructor(){\n  }\n\n\t/**\n\t * Use this method to access the state singleton internally.\n\t * @returns {DataStore} dataStore singleton\n\t * @memberof internal.dataStore\n\t */\n\tstatic get(){\n\t\tif(typeof dataStore != 'undefined'){\n\t\t\treturn dataStore;\n\t\t} else {\n\t\t\tdataStore = new this();\n\t\t\treturn dataStore;\n\t\t}\n\t}\n\n  /**\n   * Loads all datasets defined as {@link Dataset} objects.\n   * @param {Array.Dataset} datasets an Array of {@link Dataset} objects to be loaded\n   * @param {dataStore~postProcess} postProcess function to call on completing load to process ALL datasets\n   * @type {function}\n   * @returns {Promise} promise to be resolved with all loaded datasets\n   * @memberof internal.dataStore\n   */\n  loadAllDataSets(datasets, postProcess = () => {}){\n    let q = queue();\n    let resolveQ = [];\n\n    return new Promise((resolve, reject) => {\n      // resolve if we loaded all data already\n      if(this.ready){\n        resolve(this.loadedDatasets);\n        return;\n      } else if(!this.isLoading){\n\n        console.info(\"init data store\");\n        this.isLoading = true;\n        datasets.forEach((d)=>{\n          this.allDataIds.push(d.id);\n          q.defer(request, d.url);\n        });\n\n        q.awaitAll((err, results) => {\n          this.isLoading = false;\n          if(err){\n            reject(`error loading ${failedDataset.url}`);\n          } else {\n            datasets.forEach((d, i)=>{\n              d.result = d.parser(results[i].response).map(d.parseItem || identity);\n              this.loadedDatasets.push(d);\n            });\n\n            try{\n              postProcess(this.loadedDatasets);\n            } catch(e){\n              reject(e);\n            }\n\n            this.ready = true;\n\n            console.info(\"* Done loading *\")\n\n            resolve();\n            resolveQ.forEach((resolve)=>resolve.call(this));\n          }\n        });\n      } else {\n        resolveQ.push(resolve);\n      }\n    });\n  }\n\n  /**\n   * Alias for loadAllDataSets\n   * @param {Array.Dataset} datasets \n   * @param {dataStore~postProcess} postProcess \n   */\n  init(datasets, postProcess){\n    return this.loadAllDataSets(datasets, postProcess);\n  }\n\n  /**\n   * Retrieves a dataset with a given id.\n   * @param {string} id id of the dataset as defined in its {@link Dataset} object.\n   * @returns {(Array|undefined)} dataset or undefined.\n   * @memberof internal.dataStore\n   */\n  getDataSet(id){\n    console.log(\"getDataSet\", id);\n    let dataSet = find(this.loadedDatasets, (x)=>x.id == id).result;\n    return dataSet;\n  }\n\n  getAllDataIDs(){\n    return this.allDataIds;\n  };\n\n};\n\n\n// WEBPACK FOOTER //\n// ./core/data/DataStore.js","import {computed, runInAction, observable, extendObservable, toJS} from 'mobx';\nimport {assign} from 'lodash';\n\nlet state = undefined;\n\n/**\n * State class\n * Encapsulates the state as a singleton object.\n * We're using the \"Class+static get()\" pattern instead of\n * \"export default const state = new State()\"\n * to keep ES6 from immediately constructing a state instance on import. This way, the state is only built once\n * we're accessing it via State.get() and we can use things like a loaded config-file to impact on the state etc.\n * @memberof internal\n * @namespace State\n */\nexport default class {\n\n\t@observable ready = false;\n\t@observable dataReady = false;\n\t@observable configReady = false;\n\n\tconstructor() {\n\t}\n\n\t/**\n\t * Use this method to access the state singleton internally.\n\t * @returns {State} state singleton\n\t * @memberof internal.State\n\t */\n\tstatic get(){\n\t\tif(typeof state != 'undefined'){\n\t\t\treturn state;\n\t\t} else {\n\t\t\tstate = new this();\n\t\t\treturn state;\n\t\t}\n\t}\n\n\t/**\n\t * Initializes the state with a set of attributes and values.\n\t * @param {Object} initialState \n\t */\n\tinit(initialState = {}){\n\t\tObject.keys(initialState).forEach((key) => {\n      this.extend(key, initialState[key]);\n    });\n\t\tthis.ready = true;\n\t}\n\n\textend(id, initialValue){\n\t\tlet extension = {};\n\t\textension[id] = observable(initialValue);\n\t\textendObservable(this, extension);\n\t}\n\n\tset(o){\n\t\trunInAction(()=>{\n\t\t\tassign(this, o);\n\t\t})\n\t};\n\n\t/**\n\t * Takes an object, extracts all attributes that also exist in the\n\t * current state and updates their values.\n\t * @param {Object} the new state values \n\t */\n\tupdateState(o){\n\t\trunInAction(() => {\n\t\t\tObject.keys(o).forEach((key) => {\n\t\t\t\tif(this.hasOwnProperty(key)){\n\t\t\t\t\tthis[key] = o[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t@computed get encoded(){\n\t\treturn toJS(this);\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./core/state/State.js","import {observable} from 'mobx';\n\nimport MainLoop from './MainLoop';\n\nlet idleManager = undefined;\n\nexport default class IdleManager{\n\t@observable ready = false;\n\n\tsleepers = new Map();\n\n\tconstructor(){\n\t}\n\n\tinit(){\n\t\t// hook up to the main loop\n\t\tthis.ready = true;\t\n\t\t\n\t\tMainLoop.get().hook((elapsed) => {\n\t\t\tthis.check(elapsed);\n\t\t});\n\t}\n\n\t/**\n\t * Adds elapsed time to all sleepers and makes them fall asleep, if necessary.\n\t * @param {Number} elapsed - number of milliseconds elapsed since last call\n\t */\n\tcheck(elapsed){\n\t\tfor(let sleeper in this.sleepers.values()){\n\t\t\tif(sleeper.isSleeping){\n\t\t\t\t// ignore sleeping sleepers.\n\t\t\t} else {\n\t\t\t\tsleeper.time += elapsed;\n\t\t\t\tif(sleeper.time > sleeper.timeout){\n\t\t\t\t\tsleeper.sleepFn.call();\n\t\t\t\t\tsleeper.isSleeping = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Creates a sleeper, that's able to fall asleep and wake up again.  \n\t * @param {function} sleepFn - idle function that's called once the timer runs out\n\t * @param {function} wakeupFn - function that's called once the sleeper wakes up again\n\t * @param {Number} msTimeout - timeout in milliseconds before idle function fires\n\t */\n\thook(sleepFn, wakeupFn, msTimeout){\n\t\tlet hash = JSON.stringify(sleepFn) + msTimeout;\n\t\tif(this.sleepers.has(hash)){\n\t\t\t// already added\n\t\t\treturn null;\n\t\t} else {\n\t\t\tlet sleeper = {\n\t\t\t\tsleepFn,\n\t\t\t\twakeupFn,\n\t\t\t\tisSleeping: false,\n\t\t\t\ttimeout: msTimeout,\n\t\t\t\ttime: 0\n\t\t\t};\n\t\t\tthis.sleepers.set(hash, sleeper);\n\t\t\treturn hash;\n\t\t}\n\t}\n\n\t/**\n\t * Removes a sleeper from the sleepers.\n\t * @param {string} id - sleeper id \n\t */\n\tunhook(id){\n\t\tif(this.sleepers.has(id)){\n\t\t\tthis.sleepers.delete(id);\n\t\t}\n\t}\n\n\t/**\n\t * Reset the IdleManager countdown.\n\t */\n\treset(){\n\t\tfor(let sleeper in this.sleepers.values()){\n\t\t\tif(sleeper.isSleeping){\n\t\t\t\tsleeper.wakeupFn.call();\n\t\t\t\tsleeper.isSleeping = false;\n\t\t\t}\n\t\t\tsleeper.time = 0;\n\t\t}\n\t}\n\n\tstatic get(){\n\t\tif(typeof idleManager == 'undefined'){\n\t\t\tidleManager = new this();\n\t\t}\n\t\treturn idleManager;\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./core/time/IdleManager.js","export {default as nest} from \"./src/nest\";\nexport {default as set} from \"./src/set\";\nexport {default as map} from \"./src/map\";\nexport {default as keys} from \"./src/keys\";\nexport {default as values} from \"./src/values\";\nexport {default as entries} from \"./src/entries\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/index.js\n// module id = 19\n// module chunks = 0 2","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"mobx\",\"commonjs2\":\"mobx\",\"amd\":\"mobx\",\"root\":\"mobx\"}\n// module id = 2\n// module chunks = 0 1 2","import Config from './config/Config';\nimport DataStore from './data/DataStore';\nimport State from './state/State';\n\n// /time\nimport MainLoop from './time/MainLoop';\nimport IdleManager from './time/IdleManager';\n\nimport {observable, when} from 'mobx';\n\n/**\n * Main\n * @class\n * @alias Lima\n * @namespace lima\n */\nclass Lima {\n  ready = observable(false);\n\n  constructor() {\n    // create singletons:\n    this.dataStore = DataStore.get();\n    this.config = Config.get();\n    this.state = State.get();\n    this.mainLoop = MainLoop.get();\n    this.idleManager = IdleManager.get();\n  }\n\n  /**\n   * Initializes lima, loading config and data files.\n   * @param {string} [pathToConfig=undefined] path to the config file\n   * @param {Array.Dataset} [datasets=[]] {@link Dataset} objects to load\n   * @param {function} [postProcess=function(){}] function to call on completing load to process ALL datasets\n   * @param {Object} [initialState={}] initial state settings\n   * @returns {Promise} to be resolved when config and data have been loaded\n   * @memberof lima\n   */\n  init(pathToConfig = undefined, datasets = [], postProcess = () => {}, initialState = {}){    \n    this.config.init(pathToConfig);\n    when(() => this.config.ready, () => {\n      this.state.configReady = true;\n      this.dataStore.init(datasets, postProcess);\n    });\n    when(() => this.dataStore.ready, () => {\n      this.state.init(initialState);\n      this.state.dataReady = true;\n    });\n    when(() => this.state.ready, () => {\n      this.ready = true;\n    });\n  }\n}\n\nlet l = new Lima();\n\nlet dataStore = l.dataStore;\nlet config = l.config;\nlet uiState = l.state;\n\nlet mainLoop = l.mainLoop;\nlet idleManager = l.idleManager;\n\nlet initLima = (pathToConfig, datasets, postProcess, initialState) => l.init(pathToConfig, datasets, postProcess, initialState);\n\nwindow.lima = l;\n\nexport {\n  // LIMA singletons:\n  uiState,\n  config,\n  dataStore,\n\n  mainLoop,\n  idleManager,\n\n  // LIMA classes:\n  State as StateClass,\n  Config as ConfigClass,\n  DataStore as DataStoreClass,\n\n  MainLoop as MainLoopClass,\n  IdleManager as IdleManagerClass,\n  \n  // LIMA specific helpers:\n  initLima,\n};\n\n\n// WEBPACK FOOTER //\n// ./core/index.js","module.exports = [\n\t{\n\t\t\"key\": \"ready\",\n\t\t\"value\": true\n\t}\n];\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./core/data/config.json\n// module id = 215\n// module chunks = 2","// https://d3js.org/d3-request/ Version 1.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-collection'), require('d3-dispatch'), require('d3-dsv')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-collection', 'd3-dispatch', 'd3-dsv'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3));\n}(this, (function (exports,d3Collection,d3Dispatch,d3Dsv) { 'use strict';\n\nvar request = function(url, callback) {\n  var request,\n      event = d3Dispatch.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = d3Collection.map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n};\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n\nvar type = function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n};\n\nvar html = type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n\nvar json = type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n\nvar text = type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n\nvar xml = type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n\nvar dsv = function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n};\n\nfunction responseOf(parse, row) {\n  return function(request$$1) {\n    return parse(request$$1.responseText, row);\n  };\n}\n\nvar csv = dsv(\"text/csv\", d3Dsv.csvParse);\n\nvar tsv = dsv(\"text/tab-separated-values\", d3Dsv.tsvParse);\n\nexports.request = request;\nexports.html = html;\nexports.json = json;\nexports.text = text;\nexports.xml = xml;\nexports.csv = csv;\nexports.tsv = tsv;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-request/build/d3-request.js\n// module id = 22\n// module chunks = 0 2","module.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\",\"root\":\"_\"}\n// module id = 24\n// module chunks = 0 2","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/entries.js\n// module id = 26\n// module chunks = 0 2","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/keys.js\n// module id = 27\n// module chunks = 0 2","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup != null\n        ? rollup(array) : (sortValues != null\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/nest.js\n// module id = 28\n// module chunks = 0 2","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/set.js\n// module id = 29\n// module chunks = 0 2","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/values.js\n// module id = 30\n// module chunks = 0 2","export {default as dispatch} from \"./src/dispatch\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dispatch/index.js\n// module id = 33\n// module chunks = 0 2","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dispatch/src/dispatch.js\n// module id = 34\n// module chunks = 0 2","export {default as dsvFormat} from \"./src/dsv\";\nexport {csvParse, csvParseRows, csvFormat, csvFormatRows} from \"./src/csv\";\nexport {tsvParse, tsvParseRows, tsvFormat, tsvFormatRows} from \"./src/tsv\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dsv/index.js\n// module id = 35\n// module chunks = 0 2","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dsv/src/csv.js\n// module id = 36\n// module chunks = 0 2","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dsv/src/tsv.js\n// module id = 37\n// module chunks = 0 2","export {default as queue} from \"./src/queue\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-queue/index.js\n// module id = 41\n// module chunks = 0 2","export var slice = [].slice;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-queue/src/array.js\n// module id = 42\n// module chunks = 0 2","import {slice} from \"./array\";\n\nvar noabort = {};\n\nfunction Queue(size) {\n  if (!(size >= 1)) throw new Error;\n  this._size = size;\n  this._call =\n  this._error = null;\n  this._tasks = [];\n  this._data = [];\n  this._waiting =\n  this._active =\n  this._ended =\n  this._start = 0; // inside a synchronous task callback?\n}\n\nQueue.prototype = queue.prototype = {\n  constructor: Queue,\n  defer: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    if (this._error != null) return this;\n    var t = slice.call(arguments, 1);\n    t.push(callback);\n    ++this._waiting, this._tasks.push(t);\n    poke(this);\n    return this;\n  },\n  abort: function() {\n    if (this._error == null) abort(this, new Error(\"abort\"));\n    return this;\n  },\n  await: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    this._call = function(error, results) { callback.apply(null, [error].concat(results)); };\n    maybeNotify(this);\n    return this;\n  },\n  awaitAll: function(callback) {\n    if (typeof callback !== \"function\" || this._call) throw new Error;\n    this._call = callback;\n    maybeNotify(this);\n    return this;\n  }\n};\n\nfunction poke(q) {\n  if (!q._start) {\n    try { start(q); } // let the current task complete\n    catch (e) {\n      if (q._tasks[q._ended + q._active - 1]) abort(q, e); // task errored synchronously\n      else if (!q._data) throw e; // await callback errored synchronously\n    }\n  }\n}\n\nfunction start(q) {\n  while (q._start = q._waiting && q._active < q._size) {\n    var i = q._ended + q._active,\n        t = q._tasks[i],\n        j = t.length - 1,\n        c = t[j];\n    t[j] = end(q, i);\n    --q._waiting, ++q._active;\n    t = c.apply(null, t);\n    if (!q._tasks[i]) continue; // task finished synchronously\n    q._tasks[i] = t || noabort;\n  }\n}\n\nfunction end(q, i) {\n  return function(e, r) {\n    if (!q._tasks[i]) return; // ignore multiple callbacks\n    --q._active, ++q._ended;\n    q._tasks[i] = null;\n    if (q._error != null) return; // ignore secondary errors\n    if (e != null) {\n      abort(q, e);\n    } else {\n      q._data[i] = r;\n      if (q._waiting) poke(q);\n      else maybeNotify(q);\n    }\n  };\n}\n\nfunction abort(q, e) {\n  var i = q._tasks.length, t;\n  q._error = e; // ignore active callbacks\n  q._data = undefined; // allow gc\n  q._waiting = NaN; // prevent starting\n\n  while (--i >= 0) {\n    if (t = q._tasks[i]) {\n      q._tasks[i] = null;\n      if (t.abort) {\n        try { t.abort(); }\n        catch (e) { /* ignore */ }\n      }\n    }\n  }\n\n  q._active = NaN; // allow notification\n  maybeNotify(q);\n}\n\nfunction maybeNotify(q) {\n  if (!q._active && q._call) {\n    var d = q._data;\n    q._data = undefined; // allow gc\n    q._call(q._error, d);\n  }\n}\n\nexport default function queue(concurrency) {\n  return new Queue(arguments.length ? +concurrency : Infinity);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-queue/src/queue.js\n// module id = 43\n// module chunks = 0 2","import {observable} from 'mobx';\n\nlet mainLoop = undefined;\n\nexport default class MainLoop {\n\t@observable ready = false;\n\n\tloopFunctions = new Map();\n\tisLooping = false;\n\n\tstartTime = undefined;\n\ttime = undefined;\n\tlastTime = undefined;\n\n\tconstructor(){\n\t}\n\n\tinit(){\n\t\tthis.ready = true;\n\n\t\tthis.start();\n\t}\n\n\tstart(){\n\t\t// start main loop:\n\t\tthis.isLooping = true;\n\t\tthis.startTime = new Date().getTime();\n\t\tthis.lastTime = this.time = this.startTime;\n\t\trequestAnimationFrame(() => this.loop());\n\t}\n\n\tstop(){\n\t\tthis.isLooping = false;\n\t}\n\n\tloop(){\n\t\tthis.time = new Date().getTime();\n\t\tlet elapsed = this.time - this.lastTime;\n\n\t\tlet loopFuncs = this.loopFunctions.values();\n\t\tfor(let fn of this.loopFunctions.values()){\n\t\t\tfn.call(undefined, elapsed);\n\t\t}\n\n\t\tthis.lastTime = this.time;\n\t\tif(this.isLooping){\n\t\t\trequestAnimationFrame(() => this.loop());\n\t\t}\n\t}\n\n\t/**\n\t * Adds a new function to call in the main loop.\n\t * @param {function} fn - the function to call in the main loop. First parameter is current time.\n\t * @returns {string} an id of the function to unhook it again.\n\t */\n\thook(fn){\n\t\tlet hash = JSON.stringify(fn);\n\t\tif(this.loopFunctions.has(hash)){\n\t\t\t// already added.\n\t\t\treturn null;\n\t\t} else {\n\t\t\tthis.loopFunctions.set(hash, fn);\n\n\t\t\treturn hash;\n\t\t}\n\t}\n\n\t/**\n\t * Removes a function from the main loop.\n\t * @param {string} id of the function to remove \n\t */\n\tunhook(id){\n\t\tif(this.loopFunctions.has(id)){\n\t\t\tthis.loopFunctions.delete(id);\n\t\t}\n\t}\n\n\tstatic get(){\n\t\tif(typeof mainLoop == 'undefined'){\n\t\t\tmainLoop = new this();\n\t\t}\n\t\treturn mainLoop;\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./core/time/MainLoop.js","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-collection/src/map.js\n// module id = 7\n// module chunks = 0 2","function objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I, c;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var k = 1;\n        c = text.charCodeAt(I++);\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.slice(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.slice(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && (a = f(a, n++)) == null) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3-dsv/src/dsv.js\n// module id = 8\n// module chunks = 0 2"],"sourceRoot":""}